<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Mevsimler & İklim - QA</title>
<style>
body { font-family: Arial; max-width: 800px; margin: 2rem auto; padding:1rem; }
textarea { width: 100%; height: 80px; }
button { margin-top: 0.5rem; padding: 0.5rem 1rem; }
pre { background: #f4f4f4; padding: 1rem; border-radius: 6px; }
</style>
</head>
<body>
<h1>Mevsimler & İklim QA</h1>
<textarea id="q" placeholder="Sorunuzu yazın...">21 Mart'ta kuzey yarım kürede hangi mevsim başlar?</textarea>
<br>
<button id="send">Sor</button>

<h2>Cevap</h2>
<pre id="answer">Bekleniyor...</pre>
<h3>Kullanılan Pasajlar</h3>
<div id="passages"></div>

<script>
document.getElementById('send').onclick = async () => {
    const q = document.getElementById('q').value;
    document.getElementById('answer').textContent = 'Sorgulanıyor...';
    const resp = await fetch('http://localhost:8000/query', {
        method: 'POST',
        headers:{'Content-Type':'application/json'},
        body: JSON.stringify({question:q})
    });
    const j = await resp.json();
    document.getElementById('answer').textContent = j.answer;
    document.getElementById('passages').innerHTML =
        j.passages.map(p => `<pre>${p}</pre>`).join('');
}
</script>
</body>
</html>
